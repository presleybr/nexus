================================================================================
                    COMANDOS R√ÅPIDOS - NEXUS CRM
                    Refer√™ncia R√°pida de Comandos
================================================================================

üöÄ INICIALIZA√á√ÉO
================================================================================

Ativar ambiente virtual:
  Windows: venv\Scripts\activate
  Linux:   source venv/bin/activate

Iniciar sistema completo (recomendado):
  python start.py

Iniciar apenas Flask:
  python backend/app.py

Parar servidor:
  Ctrl + C

================================================================================
üóÑÔ∏è BANCO DE DADOS
================================================================================

Criar/Recriar banco:
  python database/init_db.py

Popular com dados fake:
  python database/seed_data.py

Criar backup:
  python database/backup.py

Conectar via psql:
  psql -U postgres -d nexus_crm

================================================================================
ü§ñ AUTOMA√á√ÉO
================================================================================

Gerar boletos (todas empresas):
  python automation/boleto_generator.py

Executar automa√ß√£o completa:
  python automation/whatsapp_dispatcher.py

Organizar pastas:
  python automation/folder_organizer.py

================================================================================
üìä CONSULTAS SQL √öTEIS
================================================================================

Ver todos os usu√°rios:
  SELECT * FROM usuarios;

Ver empresas cadastradas:
  SELECT * FROM clientes_nexus;

Ver total de clientes por empresa:
  SELECT * FROM view_dashboard_cliente;

Ver boletos pendentes:
  SELECT * FROM boletos WHERE status_envio = 'pendente';

Ver √∫ltimos logs:
  SELECT * FROM logs_sistema ORDER BY data_hora DESC LIMIT 20;

Ver status do sistema:
  SELECT * FROM status_sistema;

Contar totais:
  SELECT COUNT(*) FROM clientes_finais;
  SELECT COUNT(*) FROM boletos;

Ver hist√≥rico de automa√ß√µes:
  SELECT * FROM historico_automacoes ORDER BY data_execucao DESC;

================================================================================
üîß MANUTEN√á√ÉO
================================================================================

Reinstalar depend√™ncias:
  pip install -r backend/requirements.txt --upgrade

Limpar cache Python:
  find . -type d -name "__pycache__" -exec rm -r {} +
  (Windows: del /s /q __pycache__)

Verificar erros Python:
  python -m py_compile backend/app.py

Ver processos na porta 5000:
  Windows: netstat -ano | findstr :5000
  Linux:   lsof -i :5000

================================================================================
üìÅ LOCALIZA√á√ÉO DE ARQUIVOS
================================================================================

Configura√ß√µes:
  .env (raiz do projeto)

Logs:
  logs/

Boletos gerados:
  boletos/empresa_X/mes_Y/

Banco de dados:
  PostgreSQL padr√£o (sem arquivo local)

Backups:
  backups/

Sess√µes WhatsApp:
  whatsapp_sessions/

================================================================================
üåê URLs DO SISTEMA
================================================================================

P√°gina inicial:
  http://localhost:5000/

Login cliente:
  http://localhost:5000/login-cliente

Login admin:
  http://localhost:5000/login-admin

Dashboard cliente:
  http://localhost:5000/crm/dashboard

Dashboard admin:
  http://localhost:5000/admin/dashboard

API Status:
  http://localhost:5000/api/status

API Logs:
  http://localhost:5000/api/logs

================================================================================
üîê LOGINS PADR√ÉO
================================================================================

CLIENTES:
  empresa1@nexus.com / empresa123
  empresa2@nexus.com / empresa223
  empresa3@nexus.com / empresa323

ADMIN:
  admin@nexus.com / admin123

‚ö†Ô∏è  ALTERE AS SENHAS EM PRODU√á√ÉO!

================================================================================
üêõ DEBUGGING
================================================================================

Ver logs do Flask:
  (aparecem no terminal onde voc√™ executou python start.py)

Ver logs do banco:
  SELECT * FROM logs_sistema WHERE tipo = 'error' ORDER BY data_hora DESC;

Verificar conex√£o PostgreSQL:
  psql -U postgres -h localhost -c "SELECT version();"

Testar endpoints API:
  curl http://localhost:5000/api/status

Modo debug (desenvolvimento):
  J√° est√° ativo se FLASK_ENV=development no .env

================================================================================
üì¶ ESTRUTURA DE IMPORTA√á√ÉO PYTHON
================================================================================

Importar models:
  from models import Usuario, ClienteNexus, ClienteFinal, Boleto

Importar services:
  from services import automation_service, whatsapp_service, pdf_generator

Importar config:
  from config import Config

Executar query direta:
  from models import execute_query
  resultado = execute_query("SELECT * FROM usuarios", fetch=True)

================================================================================
üîÑ RESETAR SISTEMA
================================================================================

Reset completo (CUIDADO - APAGA TUDO):

  1. Parar o servidor (Ctrl+C)

  2. Dropar banco (via psql):
     DROP DATABASE nexus_crm;

  3. Recriar tudo:
     python database/init_db.py
     python database/seed_data.py

  4. Reiniciar:
     python start.py

================================================================================
üìù VARI√ÅVEIS DE AMBIENTE (.env)
================================================================================

Alterar porta:
  FLASK_PORT=8080

Alterar modo:
  FLASK_ENV=production

Alterar banco:
  DB_NAME=outro_banco
  DB_USER=outro_usuario
  DB_PASSWORD=outra_senha

Habilitar debug:
  FLASK_DEBUG=True

================================================================================
üéØ ENDPOINTS API PRINCIPAIS
================================================================================

POST /api/auth/login
  Body: {"username": "...", "password": "..."}

GET /api/crm/dashboard
  Headers: Cookie (sess√£o)

POST /api/crm/clientes
  Body: {"nome": "...", "cpf": "...", "whatsapp": "..."}

GET /api/crm/boletos

POST /api/automation/executar-completa

POST /api/whatsapp/enviar-mensagem
  Body: {"numero": "...", "mensagem": "..."}

================================================================================
üí° DICAS R√ÅPIDAS
================================================================================

‚úÖ Sempre ative o venv antes de executar comandos Python
‚úÖ Verifique se PostgreSQL est√° rodando antes de iniciar
‚úÖ Use python start.py para inicializa√ß√£o completa
‚úÖ Consulte README.md para documenta√ß√£o completa
‚úÖ Veja MANUAL.md para entender as 33 etapas
‚úÖ Use QUICKSTART.md para in√≠cio r√°pido

================================================================================
üÜò ERROS COMUNS E SOLU√á√ïES
================================================================================

"ModuleNotFoundError":
  ‚Üí Ative o venv: venv\Scripts\activate

"PostgreSQL n√£o est√° acess√≠vel":
  ‚Üí Inicie o servi√ßo PostgreSQL

"Porta j√° em uso":
  ‚Üí Altere FLASK_PORT no .env

"Acesso negado":
  ‚Üí Verifique senha no .env

"Arquivo n√£o encontrado":
  ‚Üí Verifique se est√° na pasta D:\Nexus

================================================================================

üìö MAIS INFORMA√á√ïES:
  - README.md (documenta√ß√£o completa)
  - QUICKSTART.md (guia r√°pido)
  - docs/MANUAL.md (33 etapas detalhadas)
  - INSTALACAO.txt (guia de instala√ß√£o)

================================================================================
