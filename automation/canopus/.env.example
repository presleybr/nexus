# ============================================================================
# CONFIGURAÇÕES DA AUTOMAÇÃO CANOPUS
# Copie este arquivo para .env e preencha com suas credenciais
# ============================================================================

# ============================================================================
# BANCO DE DADOS POSTGRESQL
# ============================================================================
# Use as mesmas configurações do backend Nexus
DB_HOST=localhost
DB_PORT=5434
DB_NAME=nexus_crm
DB_USER=postgres
DB_PASSWORD=sua_senha_postgres_aqui

# ============================================================================
# SEGURANÇA - CRIPTOGRAFIA
# ============================================================================
# Gerar chave: python -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())"
ENCRYPTION_KEY=gere_uma_chave_fernet_aqui

# ============================================================================
# NAVEGADOR E AUTOMAÇÃO
# ============================================================================
# Executar navegador em modo headless (sem interface gráfica)
# true = executar em background, false = mostrar navegador
CANOPUS_HEADLESS=false

# ============================================================================
# TIMEOUTS (em milissegundos)
# ============================================================================
# Timeout para navegação entre páginas
TIMEOUT_NAVEGACAO=30000

# Timeout para download de boletos
TIMEOUT_DOWNLOAD=60000

# Timeout para encontrar elementos na página
TIMEOUT_ELEMENTO=10000

# ============================================================================
# DELAYS (em segundos)
# ============================================================================
# Delay entre downloads de boletos (para não sobrecarregar o sistema)
DELAY_ENTRE_DOWNLOADS=2

# Delay após fazer login
DELAY_APOS_LOGIN=3

# Delay após buscar cliente
DELAY_APOS_BUSCA=1

# ============================================================================
# CONFIGURAÇÕES DE EXECUÇÃO
# ============================================================================
# Número máximo de tentativas por download em caso de falha
MAX_RETENTATIVAS=3

# Quantidade de clientes processados por lote
BATCH_SIZE=50

# Reiniciar navegador após N downloads (evita problemas de memória)
REINICIAR_NAVEGADOR_APOS=100

# Mês padrão para download de boletos
MES_PADRAO=DEZEMBRO

# ============================================================================
# INTEGRAÇÃO WHATSAPP
# ============================================================================
# URL da API WPPConnect (ou Evolution API)
WHATSAPP_API_URL=http://localhost:3001

# Nome da sessão WhatsApp
WHATSAPP_SESSION=session-nexus

# API Key (se necessário)
WHATSAPP_API_KEY=

# Enviar automaticamente via WhatsApp após download?
# true = enviar automaticamente, false = apenas baixar
ENVIAR_WHATSAPP_AUTO=false

# ============================================================================
# LOGGING
# ============================================================================
# Nível de log: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# ============================================================================
# SISTEMA CANOPUS
# ============================================================================
# URL do sistema Canopus (normalmente não precisa alterar)
CANOPUS_URL=https://cnp3.consorciocanopus.com.br

# ============================================================================
# NOTAS IMPORTANTES
# ============================================================================
# 1. NUNCA compartilhe este arquivo .env com credenciais reais
# 2. Adicione .env ao .gitignore
# 3. Gere uma chave de criptografia única para seu ambiente
# 4. As credenciais do Canopus são armazenadas CRIPTOGRAFADAS no banco
